<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script src="node_modules/angular/angular.js"></script>
    <script src="node_modules/angular-messages/angular-messages.js"></script>
    <script src="js/app.js"></script>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" media="screen" href="node_modules/bootstrap/dist/css/bootstrap.css"/>
    <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css"/>
    <style>
        .show-grid {
            margin-bottom: 15px;
        }
    </style>
</head>
<body ng-app="todo">
<p th:text="'Hello ' + ${name} + '!'"/>

<div class="container" ng-controller="TodoController">
    <div class="row show-grid">
        <form name="form" class="form-horizontal" ng-submit="submit()" role="form" novalidate="true">
            <legend>Form Title</legend>

            <div class="form-group">
                <div class="col-xs-1">
                    <label class="control-label" for="name">Name</label>
                </div>
                <div class="col-xs-9">
                    <input autofocus="true" type="text" class="form-control" id="name" name="name" ng-model="query.name"
                           placeholder="Name..." klf-username-not-found="true" ng-required="true"
                            ng-model-options="{ updateOn: 'blur' }"
                            autocomplete="off"/>
                    <div class="help-text" ng-messages="form.name.$error"
                         ng-show="form.name.$touched &amp;&amp; form.name.$invalid">
                        <div ng-message="required">Field is required</div>
                        <div ng-message="klfUsernameNotFound">username not found</div>
                    </div>
                    <div class="help-text" ng-show="form.name.$pending">
                        <i class="fa fa-spinner fa-pulse"></i> <span>Validating username</span>
                    </div>
                    <div class="help-text">{{query.name}}</div>
                </div>
            </div>
            <button type="submit" class="col-xs-offset-1 btn btn-primary">
                <i ng-show="form.$pending" class="fa fa-spinner fa-pulse"></i><span>Submit</span>
            </button>
        </form>

    </div>
    <div class="row show-grid">
        <table class="table table-hover">
        	<thead>
        		<tr>
        			<th>username</th>
                    <th>name</th>
        		</tr>
        	</thead>
        	<tbody>
        		<tr ng-repeat="user in users">
        			<td>{{user.username}}</td>
                    <td>{{user.display}}</td>
        		</tr>
        	</tbody>
        </table>
    </div>
</div>
</body>
</html>